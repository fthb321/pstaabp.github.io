Integral Calculus in a Computer Algebra System
===========

Antiderivatives
-------

Naturally, Maple and most CAS find antiderviatives.  There are a few ways to do this.  If we want the antiderivative of a function like $x^2$, then we can type:
```
int(x^2,x)
```

which returns $$\frac{x^3}{3}$$.  And note that Maple does not return an integration constant.  

Additionally, we can make the command look like an integral, by typing `int`, then hitting escape and selecting the proper integration.  Lastly, you can use palette as well.  

Maple has many standard integration techniques (subsitution, trig substitution, by parts, among others).  For example, integrating:
$${\frac {x\cos \left( \sqrt {{x}^{2}+1} \right) }{\sqrt {{x}^{2}+1}}}$$
results in $sin(\sqrt{x^2+1})$  (where subsitution has been used).

Another example is the antiderivative of $x^7{\rm e}^{2x}$ which results in 
$$\frac{1}{16} \left( 8\,{x}^{7}-28\,{x}^{6}+84\,{x}^{5}-210\,{x}^{4}+420\,{x}
^{3}-630\,{x}^{2}+630\,x-315 \right) {{\rm e}^{2\,x}}$$
in which the integration by parts formula has been applied 7 times.  

Other times, you might get strange results.  If we find the antiderivative of ${\rm e}^{-x^2}$, Maple returns
$$\frac{1}{2}\sqrt {\pi }\, {\rm erf}\left( x \right) $$

What is this erf?   Take a look in the Help Browser. 

Quite amazingly, very few functions have a nice antiderivative, where nice means that you can write the result as a algebraic combination of functions that we know from Precalc and Calculus.  Instead, functions, like erfi (otherwise known as the error function), are defined as solutions to a differential equation or as an antiderivative.  Here's a list of a few

* $\displaystyle\int \frac{\sin x}{x} \, dx$
* $\displaystyle\int \cos(x^2)\, dx$ 
* $\displaystyle\int \frac{1}{\sqrt{1-\sin^2 \theta }} \, d\theta$

Definite Integrals
------

Maple will also find definite integrals and there are a few ways to enter those.  To enter $\displaystyle \int_0^1 x^2 \, dx$, type
```
int(x^2,x=0..1)
```

and it will return $\frac{1}{3}$.  You can also type `int`, hit ESC and select the definite integral (the one with the limits on the integral sign). 

###Exercise

Try the following:

* $\displaystyle \int_0^{\pi/2} \sin x \, dx$
* $\displaystyle \int_{-1}^2 {\rm e}^{2x} \, dx$ 
* $\displaystyle \int_0^{1} \tan^{-1} x \, dx$. 



###Definite Integrals with infinite bounds

You can also do definite integrals with infinite bounds.  For example
$$\int_0^{\infty} {\rm e}^{-x} \,dx$$
returns 1.  

Let's recall what this means.  If you have any integral with an infinite limit, and if $F(x)$ is an antiderivative of $f(x)$, then 
$$\int_a^{\infty} f(x) \, dx = \lim_{b \rightarrow \infty} F(b)-F(a)$$

And we can let Maple help us understand this. For example using the example of $\int_0^{\infty} {\rm e}^{-x} \, dx$ above, the antiderivative of ${\rm e}^{-x}$ is $-{\rm e}^{-x}$ and let's define this to be $F$ using
```
F:=x->-e^(-x)
```

Then we take the limit of $F(b)-F(0)$ 
```
limit(F(b)-F(0), b = infinity)
```

returns 1. 

###Exercise

Find the following:

* $\displaystyle \int_1^{\infty} \frac{1}{x} \, dx$
* $\displaystyle \int_{-\infty}^{\infty} {\rm e}^{-x^2} \, dx$ 
 

Applications of Integrals
-------

###Area between curves

Find the area bounded by the curves $y=x^2$ and $y=4-x^2$.

First, a plot of these two curves is helpful.  Here's the following plot:

![Plot of $x^2$ and $4-x^2$](images/ch08/plot01.png)

To help find the appropriate integral to use we can solve for the intersection points:
```
solve(x^2=4-x^2,x)
```

which returns $\sqrt{2},-\sqrt{2}$. So the area is the top curve in this interval ($4-x^2$) minus the other one on this interval:
$$\int_{-\sqrt{2}}^{\sqrt{2}} (4-x^2-x^2) \, dx$$
and Maple returns 
$$\frac{16}{3}\sqrt{2}$$
and if we use `evalf` to find the decimal approximation of about 7.54, which looks about right from the plot.  

###Another Example

Find the area bounded by the curves $x=y^2−1$ and $x=y+1$.

Notice in this case these need to be plotted implicitly and you get the following plot: 

![Plot of $x=y^2−1$ and $x=y+1$](images/ch08/plot02.png)

Even though it seems clear from the plot of the intersection points, let's make sure 
```
solve([x=y^2-1,x=y+1])
```

returns `{x = 0, y = -1}, {x = 3, y = 2}` or the points $(0,-1)$ and $(3,2)$.  

If we slice in the vertical direction, it would be require that we write the integral in a couple of pieces.  Let $A_1$ be the area above that is bound by the curve $x=y^2-1$ and $x=0$.  Solving for $y$, we get $y=\pm\sqrt{x+1}$ and the area would be 
$$A_1 = 2 \int_{-1}^0 \sqrt{x+1} \, dx$$
which is $4/3$

and then the rest of the sought after area is 
$$A_2 = \int_0^3 (\sqrt{x+1} - (x-1)) \,dx$$
which is $19/6$.  The total area that we&#8217;re looking for is
$$A_1 +A_2 = \frac{9}{2}$$


An alternative way to tackle this is to slice this horizontally.  The area can then be written:
$$\int_{-1}^2 (y+1)-(y^2-1))\,dx$$
and the result is $9/2$, just as above and easier to do.  

###Exercises

* The area between the curves $y=x^3+7x^2+2x-37$ and $y=-2x^2-4x+19$
* The area between the line $x=1$, the curve $y={\rm e}^{-x}$ and the $x$-axis. 

###Volumes of Revolution

Another standard application of integration is finding volumes.  This will be a big topic in Multivariate Calculus, but in single variable Calculus, we can find volumes by revolving a curve $y=f(x)$ about an axis of revolution.  Maple has some nice visualization tools to help understand this. These are located in the `Student[Calculus1]` package, so make sure that you load it.
```
with(Student[Calculus1])
```

####Example

Find the volume formed by rotated the region bound by $y=(x-1)^2$, the $x$-axis and the $y$-axis,  and rotating the region around the $x$-axis.  

First plot the region in the $xy$-plane:

![Plot of the region in the Example above](images/ch08/plot03.png)

and this region will be rotated about the $x$-axis.  You can visualize this with the following command:
```
VolumeOfRevolution((x-1)^2, x = 0 .. 1, output = plot)
```

and the result is: 
![Plot of the volume of revolution of the example above](images/ch08/plot04.png)

For this situation, this is a disk method problem and the formula is
$$V = \int_a^b \pi r(x)^2 \,dx$$
or in this example
$$V=\int_0^1 \pi ((x-1)^2)^2\,dx$$
and using Maple, we get $\pi/5$. 

The command `VolumeOfRevolution` will also give the answer as well:
```
VolumeOfRevolution((x-1)^2,x=0..1)
```

evaluates the same integral above with the same answer. 

Another interesting option is `output=animate` which will show either disks, washers or cylinders in an animated way. Try
```
VolumeOfRevolution((x-1)^2, x=0..1,output=animate)
```

####Example that uses cylinders

Find the volume of the solid of revolution that by rotating the region bounded by $y=1-x$, $y=1-x^2$ in the first quadrant around the $y$-axis. 


![region for the example above](images/ch08/plot05.png)

This example is a cylinder method problem, with the height of each cylinder $h=(1-x^2)-(1-x)=x-x^2$ and radius $r=x$.  The volume is
$$V=\int_a^b 2\pi r h \, dx=\int_0^1 2\pi x (x-x^2) \,dx$$
which is $\pi/6$.  

We can visualize this with the following command
```
VolumeOfRevolution(-x^2+1, 1-x, x = 0 .. 1, axis = vertical, output = plot)
```

where both functions have been put in and the option `axis=vertical` is used because the function is rotated around the $y$-axis (which is the vertical axis).  The result is:

![Volume of revolution for the region above](images/ch08/plot06.png)


####Exercise

* Try to use the ouput=animation option on the example above.

* Find the volume formed by rotating the region bounded by $y=\sqrt{x}$ and $y=x$ about the line $x=2$.  (Hint: look at the `distancefromaxis` options)

Differential Equations
-------

Recall that a differential equation is an equation containing derivatives.  A simple example is 
$$\frac{dy}{dx} = y$$

The field of differential equations is extremely important and differential equations appears in all areas of mathematics as well as nearly every science and technology field.  

To solve the differential equation above we typically use the technique of *separation of variables* in that we write all of the $y$ terms on the left and the $x$ terms on the right.  We can rearrange the one above to the following:
$$\frac{1}{y} \, dy = dx \qquad \qquad (1)$$ 

and then we integrate.  Doing this (perhaps with Maple's help), we get
$$\ln(y) = x$$
and then often we want to solve for $y$, which (again with Maple's help) we get:
$$y = {\rm e}^x$$

and this makes sense because this function is its own derivative.  (which is how you can interpret $y'=y$). 

Now, we're missing some functions because we ignored the integration constant above.  To do a little better job, if we include the integration constant when integrating equation (1) above, then 
$$\int \frac{1}{y} \, dy = \int dx$$

will give
$$\ln(y) + C_1 = x + C_2$$
(again, we need to put in the constants since Maple won't do this for us).  We can combine the two constants on the right side and call these $C$ or 
$$\ln(y) = x + C$$
and solving for $y$ result in 
$$y= {\rm e}^{x+C}$$

We can do this all in one shot in Maple, by entering
```
solve(int(1/y,y)=int(1,x)+C,y)
```

###Solving a differential equation using `dsolve`

Lastly, we can let Maple solve the differential equation itself.  If we type
```
dsolve(y'(x)=y(x))
```

then Maple we return
$$y(x) = \_C1 {\rm e}^x$$

which is the same as above because ${\rm e}^{x+C}={\rm e}^x {\rm e}^C$ and then Maple using the constant $\_C1={\rm e}^C$.  

Note: when entering a differential equation, you need to explicitly put in the dependent variable.  So instead of writing $y'=y$, you need to say $y'(x)=y(x)$.  

###Exercise

Solve the following differential equation
$$y'=-\frac{x}{y}$$

1. First, by using separation of variables and going through all of the steps.  Make sure that you include the integration constant.

2. Using `dsolve`.

3. Next find the function that satisfies the differential equation with $y(3)=4$.   




Numerical Integration
-------